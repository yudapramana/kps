import{F as n,G as g,J as M,P as o,Q as i,as as N,R as t,ah as _,av as k,a5 as f,aw as w,ap as P,W as D,U as s,T as b,S as V,Z as K}from"./pinia-BDOwh8JO.js";import{b as S,e as B}from"./app-qojnDOIY.js";const T={class:"content"},U={class:"container-fluid"},j={class:"card"},F={class:"card-header"},I={class:"d-flex justify-content-between align-items-center w-100 flex-wrap"},L={class:"d-flex align-items-center mb-2 mb-md-0"},E={class:"mr-3"},R=["value"],$={class:"card-body table-responsive p-0"},z={class:"table table-bordered table-hover text-sm mb-0"},G={key:0},H={key:1},J={class:"text-muted"},Q={class:"text-muted"},W={class:"badge badge-info"},Z={class:"card-footer clearfix py-2"},q={class:"d-flex justify-content-between align-items-center"},A={class:"text-muted text-sm"},O={class:"pagination pagination-sm m-0"},X={class:"page-item disabled"},Y={class:"page-link"},st={__name:"ParticipantList",setup(tt){const m=n([]),x=n([]),l=n({}),d=n(""),u=n(10),c=n(""),v=n(!1),r=async(p=1)=>{v.value=!0;const e=await S.get("/api/v1/participants",{params:{page:p,per_page:u.value,search:d.value,participant_category_id:c.value||null}});m.value=e.data.data.data,l.value=e.data.data,x.value=e.data.categories,v.value=!1},y=p=>r(p);return g(d,B(()=>r(1),400)),g(u,()=>r(1)),g(c,()=>r(1)),M(r),(p,e)=>(i(),o(f,null,[e[14]||(e[14]=N('<section class="content-header"><div class="container-fluid"><div class="d-flex justify-content-between align-items-center"><div><h1 class="mb-1">Participants</h1><p class="mb-0 text-muted text-sm"> Daftar peserta yang terdaftar pada sistem. </p></div></div></div></section>',1)),t("section",T,[t("div",U,[t("div",j,[t("div",F,[t("div",I,[t("div",L,[t("div",E,[e[6]||(e[6]=t("label",{class:"mb-0 mr-1 text-sm text-muted"},"Tampilkan",-1)),_(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),class:"form-control form-control-sm d-inline-block w-auto"},e[5]||(e[5]=[t("option",{value:10},"10",-1),t("option",{value:25},"25",-1),t("option",{value:50},"50",-1)]),512),[[k,u.value,void 0,{number:!0}]]),e[7]||(e[7]=t("span",{class:"text-sm text-muted ml-1"},"Entri",-1))]),t("div",null,[_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>c.value=a),class:"form-control form-control-sm"},[e[8]||(e[8]=t("option",{value:""},"-- Semua Kategori --",-1)),(i(!0),o(f,null,w(x.value,a=>(i(),o("option",{key:a.id,value:a.id},s(a.name),9,R))),128))],512),[[k,c.value]])])]),_(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),type:"text",class:"form-control form-control-sm w-auto",style:{"min-width":"260px"},placeholder:"Cari nama / email / NIK / instansi..."},null,512),[[P,d.value]])])]),t("div",$,[t("table",z,[e[13]||(e[13]=t("thead",{class:"thead-light"},[t("tr",null,[t("th",{style:{width:"40px"}},"#"),t("th",null,"Peserta"),t("th",null,"Kontak"),t("th",null,"Instansi"),t("th",{style:{width:"160px"}},"Kategori"),t("th",{style:{width:"120px"}},"Registrasi")])],-1)),t("tbody",null,[v.value?(i(),o("tr",G,e[9]||(e[9]=[t("td",{colspan:"6",class:"text-center"},"Memuat data...",-1)]))):m.value.length===0?(i(),o("tr",H,e[10]||(e[10]=[t("td",{colspan:"6",class:"text-center text-muted"}," Belum ada peserta. ",-1)]))):D("",!0),(i(!0),o(f,null,w(m.value,(a,C)=>{var h;return i(),o("tr",{key:a.id},[t("td",null,s(C+1+(l.value.current_page-1)*l.value.per_page),1),t("td",null,[t("strong",null,s(a.full_name),1),e[11]||(e[11]=t("br",null,null,-1)),t("small",J,"NIK: "+s(a.nik||"-"),1)]),t("td",null,[K(s(a.email||"-"),1),e[12]||(e[12]=t("br",null,null,-1)),t("small",Q,s(a.mobile_phone||"-"),1)]),t("td",null,s(a.institution||"-"),1),t("td",null,[t("span",W,s((h=a.participant_category)==null?void 0:h.name),1)]),t("td",null,[t("span",{class:b(["badge",a.registration_type==="sponsored"?"badge-success":"badge-secondary"])},s(a.registration_type),3)])])}),128))])])]),t("div",Z,[t("div",q,[t("div",A," Menampilkan "+s(l.value.from||0)+" - "+s(l.value.to||0)+" dari "+s(l.value.total||0)+" data ",1),t("ul",O,[t("li",{class:b(["page-item",{disabled:l.value.current_page===1}])},[t("a",{href:"#",class:"page-link",onClick:e[3]||(e[3]=V(a=>y(l.value.current_page-1),["prevent"]))},"Â«")],2),t("li",X,[t("span",Y," Halaman "+s(l.value.current_page)+" / "+s(l.value.last_page),1)]),t("li",{class:b(["page-item",{disabled:l.value.current_page===l.value.last_page}])},[t("a",{href:"#",class:"page-link",onClick:e[4]||(e[4]=V(a=>y(l.value.current_page+1),["prevent"]))},"Â»")],2)])])])])])])],64))}};export{st as default};
