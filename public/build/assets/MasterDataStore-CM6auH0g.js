import{u as m,f as l,b as y}from"./app-Cc4vFrcH.js";import{O as S,F as w}from"./pinia-BDOwh8JO.js";const x=S("MasterDataStore",()=>{const v=m(),n=l("md:eventStages",[]),r=l("md:eventBranches",[]),t=l("md:eventGroups",[]),s=l("md:eventCategories",[]),c=w(!1),a=async(e,_={})=>{var p,f;if(!((p=v.eventData)!=null&&p.id))return[];const o={event_stages:n,event_branches:r,event_groups:t,event_categories:s}[e];if(!(Object.keys(_).length>0)&&((f=o==null?void 0:o.value)!=null&&f.length))return o.value;c.value=!0;try{const{data:M}=await y.get("/api/v1/master",{params:{type:e,event_id:v.eventData.id,..._}});return M.data||[]}finally{c.value=!1}},u=async()=>{n.value=await a("event_stages")},i=async()=>{r.value=await a("event_branches")},g=async()=>{t.value=await a("event_groups")},h=async(e=null)=>{t.value=await a("event_groups",e?{event_branch_id:e}:{})},d=async()=>{s.value=await a("event_categories")};return{eventStages:n,eventBranches:r,eventGroups:t,eventCategories:s,loading:c,loadEventStages:u,loadEventBranches:i,loadAllEventGroups:g,loadEventGroups:h,loadAllEventCategories:d,loadEventCategories:async(e=null)=>{s.value=await a("event_categories",e?{event_group_id:e}:{})},preloadMasterMTQ:async()=>{var e;(e=v.eventData)!=null&&e.id&&await Promise.all([u(),i(),g(),d()])},clearMaster:()=>{n.value=[],r.value=[],t.value=[],s.value=[]}}});export{x as u};
