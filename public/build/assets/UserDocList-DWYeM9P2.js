import{F as u,G as C,J as N,P as n,Q as o,R as e,ah as D,ap as U,W as V,a5 as b,aw as M,U as s,T as k,S as y,V as j,X as T,Y as B,Z as F}from"./pinia-BDOwh8JO.js";import{b as L,e as P}from"./app-D-g1j7c6.js";const S={class:"content"},$={class:"container-fluid"},G={class:"card"},I={class:"card-header"},J={class:"card-body table-responsive p-0"},z={class:"table table-bordered table-hover text-sm"},A={key:0},E={key:1},H={class:"card-footer clearfix"},K={class:"d-flex justify-content-between align-items-center"},Q={class:"text-muted"},R={class:"pagination pagination-sm m-0"},W={class:"page-item disabled"},X={class:"page-link"},O={__name:"UserDocList",setup(Y){const d=u([]),a=u({current_page:1,per_page:10,total:0,from:0,to:0,last_page:1}),r=u(""),c=u(!1),i=async(p=1)=>{c.value=!0;try{const t=await L.get("/api/users",{params:{page:p,search:r.value}});d.value=t.data.data,a.value={...a.value,...t.data.meta,...t.data}}catch(t){console.error("Gagal memuat data pengguna:",t)}finally{c.value=!1}};return C(r,P(()=>i(1),400)),N(i),(p,t)=>{const x=j("router-link");return o(),n(b,null,[t[7]||(t[7]=e("section",{class:"content-header"},[e("div",{class:"container-fluid"},[e("h1",{class:"mb-2"},"Daftar Upload")])],-1)),e("section",S,[e("div",$,[e("div",G,[e("div",I,[D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),type:"text",class:"form-control",placeholder:"Cari nama, email, NIP, atau unit kerja..."},null,512),[[U,r.value]])]),e("div",J,[e("table",z,[t[6]||(t[6]=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Nama"),e("th",null,"Jabatan"),e("th",null,"NIP"),e("th",null,"Unit Kerja"),e("th",null,"Status"),e("th",null,"Aksi")])],-1)),e("tbody",null,[c.value?(o(),n("tr",A,t[3]||(t[3]=[e("td",{colspan:"7",class:"text-center"},"Memuat data...",-1)]))):d.value.length===0?(o(),n("tr",E,t[4]||(t[4]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data pengguna ditemukan.",-1)]))):V("",!0),(o(!0),n(b,null,M(d.value,(l,w)=>{var m,_,v,g,f,h;return o(),n("tr",{key:l.id},[e("td",null,s(w+1+(a.value.current_page-1)*a.value.per_page),1),e("td",null,[e("strong",null,s(((m=l.employee)==null?void 0:m.full_name)||l.name),1)]),e("td",null,s(((_=l.employee)==null?void 0:_.job_title)||"-"),1),e("td",null,s(((v=l.employee)==null?void 0:v.nip)||"-"),1),e("td",null,s(((f=(g=l.employee)==null?void 0:g.work_unit)==null?void 0:f.unit_name)||"-"),1),e("td",null,s(((h=l.employee)==null?void 0:h.employment_status)||"-"),1),e("td",null,[T(x,{to:`/admin/users/${l.id}/documents`,class:"btn btn-sm btn-info mr-1"},{default:B(()=>t[5]||(t[5]=[F(" Dokumen ")])),_:2},1032,["to"])])])}),128))])])]),e("div",H,[e("div",K,[e("div",Q," Menampilkan "+s(a.value.from)+" - "+s(a.value.to)+" dari "+s(a.value.total)+" pengguna ",1),e("ul",R,[e("li",{class:k(["page-item",{disabled:a.value.current_page===1}])},[e("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=y(l=>i(a.value.current_page-1),["prevent"]))},"«")],2),e("li",W,[e("span",X,"Halaman "+s(a.value.current_page)+" / "+s(a.value.last_page),1)]),e("li",{class:k(["page-item",{disabled:a.value.current_page===a.value.last_page}])},[e("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=y(l=>i(a.value.current_page+1),["prevent"]))},"»")],2)])])])])])])],64)}}};export{O as default};
