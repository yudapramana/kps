import{B as s,C as r,D as t,K as u,J as o,U as R,ay as L,z as Kt,y as A,A as p,S as y,aB as V,H as b,I as _,a as ea,O as z,V as Wt,Q as Ra,ax as wt,G as C,as as q,F as xa,aC as Pt,aA as Qt,aF as Xt}from"./AuthUserStore-67h2FHdL.js";import{S as D}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{_ as Zt,u as ae,b as te}from"./app-CZBZEz52.js";import{_ as ee}from"./ViewParticipantModal-CgJpdFjl.js";import{c as ie,a as ne,b as le,d as se,r as $t,g as re,p as oe,e as ue,f as de,h as pe}from"./EventParticipantHelpers-CO5Top6O.js";const ce={class:"modal fade",id:"registerParticipantsModal",tabindex:"-1",role:"dialog"},ve={class:"modal-dialog modal-lg",role:"document"},_e={class:"modal-content"},ge={class:"modal-body"},me={class:"mb-2"},fe={key:0},be={class:"table table-sm table-bordered mb-0"},ke={class:"text-monospace"},ye={key:1,class:"text-muted"},he={class:"modal-footer py-2"},xe=["disabled"],we=["disabled"],Pe={key:0,class:"fas fa-spinner fa-spin mr-1"},$e={key:1,class:"fas fa-check mr-1"},Ke={__name:"RegisterParticipantsModal",props:{participants:{type:Array,default:()=>[]},isSubmitting:{type:Boolean,default:!1}},emits:["confirm"],setup(Y,{emit:va}){const _a=va,H=()=>{_a("confirm")};return(ra,h)=>(r(),s("div",ce,[t("div",ve,[t("div",_e,[h[8]||(h[8]=t("div",{class:"modal-header py-2"},[t("h5",{class:"modal-title"},[t("i",{class:"fas fa-check-double mr-2"}),u(" Konfirmasi Pendaftaran Peserta ")]),t("button",{type:"button",class:"close","data-dismiss":"modal"},[t("span",null,"×")])],-1)),t("div",ge,[t("p",me,[h[0]||(h[0]=u(" Anda akan mendaftarkan ")),t("strong",null,o(Y.participants.length),1),h[1]||(h[1]=u(" peserta untuk event ini dan mengubah ")),h[2]||(h[2]=t("code",null,"registration_status",-1)),h[3]||(h[3]=u(" menjadi ")),h[4]||(h[4]=t("span",{class:"badge badge-info"},"process",-1)),h[5]||(h[5]=u(". "))]),Y.participants.length?(r(),s("div",fe,[t("table",be,[h[6]||(h[6]=t("thead",null,[t("tr",null,[t("th",{style:{width:"50px"}},"#"),t("th",null,"Nama Peserta"),t("th",null,"NIK"),t("th",null,"Cabang / Golongan")])],-1)),t("tbody",null,[(r(!0),s(R,null,L(Y.participants,(J,W)=>{var m,P,Q,G,O;return r(),s("tr",{key:J.id},[t("td",null,o(W+1),1),t("td",null,o((m=J.participant)==null?void 0:m.full_name),1),t("td",ke,o((P=J.participant)==null?void 0:P.nik),1),t("td",null,o(((Q=J.event_category)==null?void 0:Q.full_name)||((G=J.event_group)==null?void 0:G.full_name)||((O=J.event_branch)==null?void 0:O.full_name)||"-"),1)])}),128))])])])):(r(),s("div",ye," Tidak ada peserta yang dipilih. "))]),t("div",he,[t("button",{type:"button",class:"btn btn-sm btn-secondary","data-dismiss":"modal",disabled:Y.isSubmitting}," Batal ",8,xe),t("button",{type:"button",class:"btn btn-sm btn-success",disabled:!Y.participants.length||Y.isSubmitting,onClick:H},[Y.isSubmitting?(r(),s("i",Pe)):(r(),s("i",$e)),h[7]||(h[7]=u(" Ya, Daftarkan "))],8,we)])])])]))}},Se={class:"modal fade",id:"mutasiModal",tabindex:"-1",role:"dialog"},Ce={class:"modal-dialog",role:"document"},De={class:"modal-content"},Ne={class:"modal-body"},Me={class:"form-group"},Ie=["value"],Te={class:"invalid-feedback"},Ae={class:"form-group"},Be=["value"],Fe={class:"invalid-feedback"},Ee={class:"form-group mb-1"},Ve=["value"],Ue={class:"invalid-feedback"},Re={class:"modal-footer"},Le=["disabled"],Ge={key:0,class:"fas fa-spinner fa-spin mr-1"},Oe={__name:"MutasiParticipantModal",props:{participantId:{type:Number,required:!0},initialRegion:{type:Object,default:()=>({province_id:"",regency_id:"",district_id:""})}},emits:["success"],setup(Y,{expose:va,emit:_a}){const H=Kt(),ra=A(()=>H.user||{}),h=Y,J=_a,W=p(!1),m=p({province_id:"",regency_id:"",district_id:""}),P=p({province_id:"",regency_id:"",district_id:""}),Q=p([]),G=p([]),O=p([]),oa=async()=>{const N=ra.value;if(N.province)Q.value=[N.province],m.value.province_id||(m.value.province_id=N.province.id);else{const v=await ea.get("/api/v1/get/provinces");Q.value=v.data.data||v.data||[]}},wa=async()=>{const N=ra.value;if(N.regency)G.value=[N.regency],m.value.regency_id=N.regency.id;else{if(!m.value.province_id)return;const v=await ea.get("/api/v1/get/regencies",{params:{province_id:m.value.province_id}});G.value=v.data.data||v.data||[]}},na=async()=>{if(!m.value.regency_id)return;const N=await ea.get("/api/v1/get/districts",{params:{regency_id:m.value.regency_id}});O.value=N.data.data||N.data||[]},K=async()=>{m.value.regency_id="",m.value.district_id="",G.value=[],O.value=[],await wa()},U=async()=>{m.value.district_id="",O.value=[],await na()},Ma=()=>(P.value={province_id:"",regency_id:"",district_id:""},m.value.province_id||(P.value.province_id="Provinsi wajib dipilih."),m.value.regency_id||(P.value.regency_id="Kabupaten/Kota wajib dipilih."),m.value.district_id||(P.value.district_id="Kecamatan wajib dipilih."),!Object.values(P.value).some(Boolean)),X=async()=>{var N,v;if(Ma()){W.value=!0;try{await ea.post(`/api/v1/event-participants/${h.participantId}/mutasi-wilayah`,m.value),$("#mutasiModal").modal("hide"),D.fire({icon:"success",title:"Wilayah peserta berhasil dipindahkan."}),J("success")}catch(x){const F=((v=(N=x.response)==null?void 0:N.data)==null?void 0:v.message)||"Gagal memindahkan peserta.";D.fire("Gagal",F,"error")}finally{W.value=!1}}};return va({open:async()=>{m.value={...h.initialRegion},await oa(),await wa(),await na(),$("#mutasiModal").modal("show")}}),(N,v)=>(r(),s("div",Se,[t("div",Ce,[t("div",De,[v[12]||(v[12]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Mutasi Peserta"),t("button",{type:"button",class:"close","data-dismiss":"modal"},[t("span",null,"×")])],-1)),t("div",Ne,[t("div",Me,[v[4]||(v[4]=t("label",null,"Provinsi",-1)),y(t("select",{"onUpdate:modelValue":v[0]||(v[0]=x=>m.value.province_id=x),class:b(["form-control form-control-sm",{"is-invalid":P.value.province_id}]),onChange:K},[v[3]||(v[3]=t("option",{value:""},"Pilih Provinsi",-1)),(r(!0),s(R,null,L(Q.value,x=>(r(),s("option",{key:x.id,value:x.id},o(x.name),9,Ie))),128))],34),[[V,m.value.province_id]]),t("div",Te,o(P.value.province_id),1)]),t("div",Ae,[v[6]||(v[6]=t("label",null,"Kab / Kota",-1)),y(t("select",{"onUpdate:modelValue":v[1]||(v[1]=x=>m.value.regency_id=x),class:b(["form-control form-control-sm",{"is-invalid":P.value.regency_id}]),onChange:U},[v[5]||(v[5]=t("option",{value:""},"Pilih Kab / Kota",-1)),(r(!0),s(R,null,L(G.value,x=>(r(),s("option",{key:x.id,value:x.id},o(x.name),9,Be))),128))],34),[[V,m.value.regency_id]]),t("div",Fe,o(P.value.regency_id),1)]),t("div",Ee,[v[8]||(v[8]=t("label",null,"Kecamatan",-1)),y(t("select",{"onUpdate:modelValue":v[2]||(v[2]=x=>m.value.district_id=x),class:b(["form-control form-control-sm",{"is-invalid":P.value.district_id}])},[v[7]||(v[7]=t("option",{value:""},"Pilih Kecamatan",-1)),(r(!0),s(R,null,L(O.value,x=>(r(),s("option",{key:x.id,value:x.id},o(x.name),9,Ve))),128))],2),[[V,m.value.district_id]]),t("div",Ue,o(P.value.district_id),1)]),v[9]||(v[9]=t("small",{class:"text-danger d-block mt-2"},[t("i",{class:"fas fa-exclamation-circle mr-1"}),u(" Disarankan mengisi hingga kecamatan sesuai KTP atau KK. ")],-1))]),t("div",Re,[v[11]||(v[11]=t("button",{type:"button",class:"btn btn-sm btn-secondary","data-dismiss":"modal"}," Tidak ",-1)),t("button",{type:"button",class:"btn btn-sm btn-primary",disabled:W.value,onClick:X},[W.value?(r(),s("i",Ge)):_("",!0),v[10]||(v[10]=u(" Pindahkan "))],8,Le)])])])]))}},je={class:"content-header"},qe={class:"container-fluid"},Ye={class:"d-flex justify-content-between align-items-center"},He={class:"btn-group btn-group-sm"},Je={class:"btn btn-outline-info btn-sm disabled"},ze=["disabled"],We=["disabled"],Qe={key:0,class:"text-danger text-sm mt-2 mb-0"},Xe={class:"content"},Ze={class:"container-fluid"},ai={class:"card"},ti={class:"card-header py-2"},ei={class:"d-flex flex-wrap align-items-center justify-content-between"},ii={class:"d-flex flex-wrap align-items-center gap-2"},ni=["value"],li={class:"card-body table-responsive p-0"},si={class:"table table-bordered table-hover text-sm mb-0"},ri={class:"thead-light"},oi={style:{width:"30px"},class:"text-center"},ui=["checked"],di={key:0},pi={key:1},ci={class:"text-center"},vi=["value","disabled"],_i={key:0,class:"text-xs text-muted"},gi={key:0,class:"text-xs text-muted"},mi={class:"badge badge-light border"},fi={class:"align-center text-center"},bi={class:"progress",style:{height:"16px","font-size":"10px"}},ki=["aria-valuenow"],yi={class:"text-center"},hi={class:"btn-group btn-group-sm"},xi=["onClick"],wi=["onClick"],Pi=["onClick"],$i=["onClick"],Ki=["onClick"],Si={class:"card-footer clearfix py-2"},Ci={class:"d-flex justify-content-between align-items-center"},Di={class:"text-muted text-sm"},Ni={class:"pagination pagination-sm m-0"},Mi={class:"page-item disabled"},Ii={class:"page-link"},Ti={class:"modal fade",id:"participantModal",tabindex:"-1",role:"dialog"},Ai={class:"modal-dialog modal-xl",role:"document"},Bi={class:"modal-content"},Fi={class:"modal-header py-2"},Ei={class:"modal-title",id:"participantModalLabel"},Vi={class:"modal-body pt-2"},Ui={class:"nav nav-tabs mb-3"},Ri={class:"nav-item"},Li={class:"nav-item"},Gi={key:0},Oi={class:"row"},ji={class:"col-md-4"},qi={class:"form-group"},Yi={class:"input-group input-group-sm"},Hi=["disabled"],Ji={class:"input-group-append"},zi=["disabled"],Wi={key:0,class:"fas fa-spinner fa-spin"},Qi={key:1},Xi={key:0,class:"invalid-feedback"},Zi={key:1,class:"valid-feedback"},an={class:"col-md-4"},tn={key:0,class:"form-group"},en={key:0,class:"invalid-feedback"},nn={class:"col-md-4"},ln={key:0,class:"form-group"},sn={key:0,class:"invalid-feedback"},rn={class:"col-md-4"},on={class:"form-group"},un=["value"],dn={key:0,class:"invalid-feedback"},pn={class:"col-md-4"},cn={class:"form-group"},vn={key:0,class:"invalid-feedback"},_n={class:"col-md-4"},gn={class:"form-group"},mn={key:0,class:"invalid-feedback"},fn={class:"col-md-4"},bn={class:"form-group"},kn={key:0,class:"invalid-feedback"},yn={class:"col-md-4"},hn={class:"form-group mb-0"},xn={class:"input-group input-group-sm"},wn={key:0,class:"invalid-feedback d-block"},Pn={key:1,class:"text-muted d-block"},$n={class:"col-md-4"},Kn={class:"form-group"},Sn={key:0,class:"invalid-feedback"},Cn={key:1,class:"text-muted"},Dn={class:"col-md-4"},Nn={class:"form-group"},Mn={key:0,class:"invalid-feedback"},In={class:"col-md-4"},Tn={class:"form-group"},An=["disabled"],Bn=["value"],Fn={key:0,class:"invalid-feedback"},En={class:"col-md-4"},Vn={class:"form-group"},Un=["disabled"],Rn={value:"",disabled:""},Ln=["value"],Gn={key:0,class:"text-muted"},On={key:1,class:"invalid-feedback"},jn={class:"col-md-4"},qn={class:"form-group"},Yn=["disabled"],Hn={value:"",disabled:""},Jn=["value"],zn={key:0,class:"text-muted"},Wn={key:1,class:"invalid-feedback"},Qn={class:"col-md-4"},Xn={class:"form-group"},Zn=["disabled"],al={value:null},tl=["value"],el={key:0,class:"text-muted"},il={key:1,class:"invalid-feedback"},nl={class:"col-md-8"},ll={class:"form-group"},sl={key:0,class:"invalid-feedback"},rl={class:"col-md-4"},ol={class:"form-group"},ul={key:0,class:"invalid-feedback"},dl={class:"col-md-4"},pl={class:"form-group"},cl=["value"],vl={key:0,class:"invalid-feedback"},_l={class:"col-md-4"},gl={class:"form-group"},ml={key:0,class:"invalid-feedback"},fl={key:1},bl={class:"row"},kl={class:"col-md-4"},yl={class:"card card-outline card-primary lampiran-photo-card"},hl={class:"card-body d-flex flex-column align-items-center"},xl={class:"lampiran-photo-frame mb-2"},wl=["src"],Pl={key:1,class:"text-muted text-sm"},$l={class:"custom-file mt-2 lampiran-photo-input"},Kl={class:"col-md-8"},Sl={class:"form-group row align-items-center lampiran-row"},Cl={class:"col-sm-7"},Dl={class:"custom-file"},Nl={class:"col-sm-2 text-right"},Ml={key:1,class:"badge badge-pill badge-secondary"},Il={class:"form-group row align-items-center lampiran-row"},Tl={class:"col-sm-7"},Al={class:"custom-file"},Bl={class:"col-sm-2 text-right"},Fl={key:1,class:"badge badge-pill badge-secondary"},El={class:"form-group row align-items-center lampiran-row"},Vl={class:"col-sm-7"},Ul={class:"custom-file"},Rl={class:"col-sm-2 text-right"},Ll={key:1,class:"badge badge-pill badge-secondary"},Gl={class:"form-group row align-items-center lampiran-row"},Ol={class:"col-sm-7"},jl={class:"custom-file"},ql={class:"col-sm-2 text-right"},Yl={key:1,class:"badge badge-pill badge-secondary"},Hl={class:"form-group row align-items-center lampiran-row"},Jl={class:"col-sm-7"},zl={class:"custom-file"},Wl={class:"col-sm-2 text-right"},Ql={key:1,class:"badge badge-pill badge-secondary"},Xl={class:"text-end mt-3"},Zl=["disabled"],as={key:0,class:"fas fa-spinner fa-spin mr-1"},ts={key:1,class:"fas fa-save mr-1"},es={__name:"EventParticipants",setup(Y){const va=i=>{if(!(i!=null&&i.id))return;const a=`/participant/${i.uuid}`;window.open(a,"_blank")};p(!1),A(()=>{const a=(P.eventStages||[]).find(d=>(d.name||"").toLowerCase()==="pelaksanaan");if(!(a!=null&&a.start_date))return null;const e=new Date(a.start_date);return isNaN(e.getTime())?null:e});const _a=te(),H=A(()=>_a.isDevelopment===!0),ra=i=>{if(H.value)return!0;const a=h.value.find(f=>{var T;return((T=f.name)==null?void 0:T.toLowerCase())===i.toLowerCase()});if(!a||!a.is_active)return!1;const e=new Date(a.start_date),d=new Date(a.end_date),c=Date.now();return c>=e.getTime()&&c<=d.getTime()},h=A(()=>P.eventStages||[]),J=A(()=>H.value||ra("Persiapan")),W=A(()=>H.value||ra("Pendaftaran")),m=Kt(),P=ae(),Q=A(()=>m.user||{}),G=A(()=>m.eventData||null),O=A(()=>{var i;return((i=G.value)==null?void 0:i.event_level)||null}),oa=A(()=>{var a,e;const i=((e=(a=Q.value)==null?void 0:a.role)==null?void 0:e.name)||"";return i==="SUPERADMIN"||i==="ADMIN_EVENT"}),wa=i=>{var a;return H.value?!1:W.value?!["bank_data","need_revision"].includes((i.registration_status||"").toLowerCase())||(((a=i.participant)==null?void 0:a.lampiran_completion_percent)||0)<80:!0},na=A(()=>m.eventData||null),K=A(()=>{var i;return((i=na.value)==null?void 0:i.id)||null}),U=p([]),Ma=p([]),X=p([]),Z=p([]),N=p(""),v=p(10),x=p(!1),F=p(!1),Pa=p(!1);p(!1);const j=p("biodata"),aa=p(!1),La=()=>ie(K.value),n=p(La()),ia=p({registration_status:"",event_group_id:"",reregistration_status:""}),I=p({current_page:1,per_page:10,total:0,from:0,to:0,last_page:1}),Ga=p(null),$a=p(""),Ka=p(""),Ia=p({photo_url:null,id_card_url:null,family_card_url:null,bank_book_url:null,certificate_url:null,other_url:null}),Ta=p({photo_url:"",id_card_url:"",family_card_url:"",bank_book_url:"",certificate_url:"",other_url:""}),Oa=pe,{onFileChange:ua,openFile:ga,hasFile:ma,resetFiles:St}=se({files:Ia,fileErrors:Ta,form:n}),ja=p(null),Ct=i=>{ja.value=i,$("#viewParticipantModal").modal("show")},l=p({}),k=p(""),da=p(!1),Aa=p(!1),Ba=p(!1),pa=ue,Dt=i=>re(n.value,i),M=i=>{let a="";const e=Dt(i);return pa.includes(i)&&(e||(a="Kolom ini wajib diisi.")),(i==="participant.tanggal_terbit_ktp"||i==="participant.tanggal_terbit_kk")&&Ba.value&&!e&&(a="Kolom ini wajib diisi karena NIK tidak sesuai wilayah event."),i==="participant.nik"&&!a&&k.value&&(a=k.value),(i==="participant.tanggal_terbit_ktp"||i==="participant.tanggal_terbit_kk"||i==="participant.date_of_birth")&&e&&(/^\d{4}-\d{2}-\d{2}$/.test(e)||(a="Format tanggal tidak valid. Gunakan format YYYY-MM-DD.")),(i==="participant.tanggal_terbit_ktp"||i==="participant.tanggal_terbit_kk")&&e&&(/^\d{4}-\d{2}-\d{2}$/.test(e)||(a="Format tanggal tidak valid. Gunakan format YYYY-MM-DD.")),i==="participant.phone_number"&&!a&&(/^[0-9]+$/.test(e||"")?e.length<10?a="Nomor telepon minimal 10 digit.":e.length>13&&(a="Nomor telepon maksimal 13 digit."):a="Nomor telepon hanya boleh berisi angka."),l.value[i]=a,!a},Nt=()=>{let i=!0;return pa.forEach(a=>{M(a)||(i=!1)}),i},Sa=p([]),qa=p([]),Ya=p([]),Ha=p([]),Ca=p(!1),Da=p(!1),Na=p(!1),Mt=A(()=>{if(!Sa.value.length)return!0;const i=O.value;return i?!!(!oa.value&&["province","regency","district"].includes(i)):!1}),It=A(()=>{if(!n.value.participant.province_id||Ca.value)return!0;const i=O.value;return i?!!(!oa.value&&["regency","district"].includes(i)):!1}),Tt=A(()=>{if(!n.value.participant.regency_id||Da.value)return!0;const i=O.value;return i?!oa.value&&i==="regency":!1}),ta=async(i=1)=>{if(K.value){x.value=!0;try{const e=(await ea.get(`/api/v1/events/${K.value}/participants`,{params:{page:i,per_page:v.value,search:N.value,registration_status:ia.value.registration_status||"",event_group_id:ia.value.event_group_id||"",reregistration_status:ia.value.reregistration_status||""}})).data;U.value=e.data||[],I.value={current_page:e.current_page,per_page:e.per_page,total:e.total,from:e.from,to:e.to,last_page:e.last_page}}catch(a){console.error("Gagal memuat event_participants:",a),a.response&&a.response.status===401?m.logout():D.fire("Gagal","Gagal memuat data peserta event.","error")}finally{x.value=!1}}},Ja=async()=>{if(K.value)try{Ma.value=P.eventBranches,X.value=P.eventGroups,Z.value=P.eventCategories}catch(i){console.error("Gagal memuat master event (branches/groups/categories):",i),D.fire("Gagal","Gagal memuat daftar cabang event & golongan.","error")}},za=i=>{const a=(i||"").replace(/\D/g,"");if(a.length!==16)return null;const e=oe(a);return e?{dateOfBirth:e.date,gender:e.gender}:null},At=async i=>{n.value.participant={id:i.id,nik:i.nik,full_name:i.full_name,phone_number:i.phone_number,place_of_birth:i.place_of_birth,date_of_birth:i.date_of_birth,gender:i.gender,education:i.education||"SMA",address:i.address,province_id:i.province_id||null,regency_id:i.regency_id||null,district_id:i.district_id||null,village_id:i.village_id||null,bank_account_number:i.bank_account_number||"",bank_account_name:i.bank_account_name||"",bank_name:i.bank_name||"",photo_url:i.photo_url||"",id_card_url:i.id_card_url||"",family_card_url:i.family_card_url||"",bank_book_url:i.bank_book_url||"",certificate_url:i.certificate_url||"",other_url:i.other_url||"",tanggal_terbit_ktp:i.tanggal_terbit_ktp||"",tanggal_terbit_kk:i.tanggal_terbit_kk||""}},Wa=()=>{var S;const i=n.value.participant,a=(S=na.value)==null?void 0:S.event_level,e={valid:!0,error:"",showTanggalTerbit:!1,requireTanggalTerbit:!1};if(!(i!=null&&i.nik))return e;const d=i.nik.replace(/\D/g,"");if(d.length!==16)return e.valid=!1,e.error="NIK harus terdiri dari 16 digit angka",e;const c=d.substring(0,2),f=d.substring(0,4),T=d.substring(0,6),w=d.substring(0,10),g=B=>(e.showTanggalTerbit=!0,i.tanggal_terbit_ktp&&i.tanggal_terbit_kk?(e.valid=!0,e.requireTanggalTerbit=!1,e.error=""):(e.valid=!1,e.requireTanggalTerbit=!0,e.error=B),e);switch(a){case"national":if(i.province_id&&c!==String(i.province_id).substring(0,2))return g("NIK tidak sesuai dengan provinsi peserta. Silahkan isi tanggal terbit KTP dan KK");break;case"province":if(i.regency_id&&f!==String(i.regency_id).substring(0,4))return g("NIK tidak sesuai dengan kabupaten/kota peserta. Silahkan isi tanggal terbit KTP dan KK");break;case"regency":if(i.district_id&&T!==String(i.district_id).substring(0,6))return g("NIK tidak sesuai dengan kecamatan peserta. Silahkan isi tanggal terbit KTP dan KK");break;case"district":if(i.village_id){const B=String(i.village_id);if(B.length>=10&&w!==B.substring(0,10))return g("NIK tidak sesuai dengan desa/kelurahan peserta. Silahkan isi tanggal terbit KTP dan KK")}break}return e},Fa=async()=>{k.value="",l.value["participant.nik"]="";const a=(n.value.participant.nik||"").replace(/\D/g,"");if(!a)return k.value="NIK wajib diisi.",l.value["participant.nik"]=k.value,!1;if(a.length!==16)return k.value="NIK harus 16 digit.",l.value["participant.nik"]=k.value,!1;const e=za(a);if(!e)return k.value="NIK tidak valid atau tanggal lahir tidak dapat dibaca dari NIK.",l.value["participant.nik"]=k.value,!1;const d=Wa();if(d!==!0)return k.value=d,l.value["participant.nik"]=d,!1;if(n.value.participant.date_of_birth=e.dateOfBirth,n.value.participant.gender=e.gender,!K.value)return!0;try{da.value=!0;const c=await ea.get("/api/v1/check-nik",{params:{nik:a,event_id:K.value,participant_id:n.value.participant.id||null,province_id:n.value.participant.province_id,regency_id:n.value.participant.regency_id,district_id:n.value.participant.district_id,village_id:n.value.participant.village_id}});return c.data.conflict?(k.value=c.data.message||"NIK konflik dengan peserta lain.",l.value["participant.nik"]=k.value,!1):(k.value="",l.value["participant.nik"]="",!0)}catch(c){return console.error("Gagal cek NIK ke server:",c),k.value="Gagal melakukan validasi NIK ke server.",l.value["participant.nik"]=k.value,!1}finally{da.value=!1}},Qa=async()=>{if(F.value)return;const a=(n.value.participant.nik||"").replace(/\D/g,"");if(!(!a||a.length!==16))try{da.value=!0;const e=await ea.get("/api/v1/participants/search-by-nik",{params:{nik:a}}),d=e.data.data||e.data;d&&d.id?(await At(d),D.fire({icon:"success",title:"Data peserta ditemukan",text:`Data ${d.full_name} telah dimuat ke formulir.`})):D.fire({icon:"info",title:"Tidak ditemukan",text:"NIK ini belum ada di bank data peserta. Silakan isi biodata secara manual."})}catch(e){console.error("Gagal mencari peserta by NIK:",e),D.fire({icon:"error",title:"Error",text:"Gagal mencari peserta berdasarkan NIK."})}finally{da.value=!1}},Bt=async()=>{F.value||!await Fa()||await Qa()},Ea=Pt(async()=>{if(F.value)return;const a=(n.value.participant.nik||"").replace(/\D/g,"");!a||a.length!==16||!K.value||await Fa()},600);z(()=>n.value.participant.nik,i=>{if(F.value)return;if(!i){k.value="",l.value["participant.nik"]="",n.value.participant.date_of_birth="",n.value.participant.gender="";return}const a=za(i);a&&(n.value.participant.date_of_birth=a.dateOfBirth,n.value.participant.gender=a.gender,k.value="",l.value["participant.nik"]="",Ea())});const Ft=async()=>{if(F.value)return;if(!n.value.participant.nik){k.value="",l.value["participant.nik"]="";return}Ea.cancel&&Ea.cancel(),await Fa()&&(F.value||await Qa())},Va=()=>{aa.value=!0;try{Ba.value=!1,j.value="biodata",F.value=!1,n.value={participant:{id:null,nik:"",full_name:"",phone_number:"",place_of_birth:"",date_of_birth:"",gender:"",education:"SMA",address:"",province_id:null,regency_id:null,district_id:null,village_id:null,bank_account_number:"",bank_account_name:"",bank_name:"",photo_url:"",id_card_url:"",family_card_url:"",bank_book_url:"",certificate_url:"",other_url:"",tanggal_terbit_ktp:"",tanggal_terbit_kk:""},event_participant:{id:null,event_id:K.value||null,participant_id:null,event_category_id:"",contingent:"",registration_status:"bank_data",registration_notes:"",reregistration_status:"not_yet",reregistration_notes:""}},l.value={"participant.nik":"","participant.full_name":"","participant.phone_number":"","participant.place_of_birth":"","participant.date_of_birth":"","participant.gender":"","participant.education":"","participant.province_id":"","participant.regency_id":"","participant.district_id":"","participant.village_id":"","participant.address":"","participant.bank_account_number":"","participant.bank_account_name":"","participant.bank_name":"","participant.tanggal_terbit_ktp":"","participant.tanggal_terbit_kk":"","event_participant.event_branch_id":"","event_participant.event_category_id":"","event_participant.registration_status":""},k.value="",fa.value=null,ba.value="",St()}finally{aa.value=!1}},Et=async()=>{var i,a,e;if(!K.value){D.fire("Event belum dipilih","Silakan pilih event melalui Portal Event sebelum mengelola peserta.","warning");return}if(!Nt()){D.fire("Validasi gagal","Periksa kembali kolom yang diberi tanda merah.","warning");return}if(await it(),fa.value=="invalid"){D.fire("Validasi gagal","Umur tidak memenuhi syarat untuk golongan ini","warning");return}Pa.value=!0;try{const d={participant:{id:n.value.participant.id||null,nik:n.value.participant.nik,full_name:n.value.participant.full_name,phone_number:n.value.participant.phone_number,place_of_birth:n.value.participant.place_of_birth,date_of_birth:n.value.participant.date_of_birth,gender:n.value.participant.gender,education:n.value.participant.education,address:n.value.participant.address,province_id:n.value.participant.province_id,regency_id:n.value.participant.regency_id,district_id:n.value.participant.district_id,village_id:n.value.participant.village_id,bank_account_number:n.value.participant.bank_account_number,bank_account_name:n.value.participant.bank_account_name,bank_name:n.value.participant.bank_name,tanggal_terbit_ktp:n.value.participant.tanggal_terbit_ktp,tanggal_terbit_kk:n.value.participant.tanggal_terbit_kk},event_participant:{id:n.value.event_participant.id||null,event_id:K.value,participant_id:n.value.participant.id||null,event_branch_id:n.value.event_participant.event_branch_id,event_group_id:n.value.event_participant.event_group_id,event_category_id:n.value.event_participant.event_category_id,contingent:n.value.event_participant.contingent,registration_status:n.value.event_participant.registration_status,registration_notes:n.value.event_participant.registration_notes,reregistration_status:n.value.event_participant.reregistration_status,reregistration_notes:n.value.event_participant.reregistration_notes}},c=new FormData;c.append("participant",JSON.stringify(d.participant)),c.append("event_participant",JSON.stringify(d.event_participant)),Oa.forEach(f=>{Ia.value[f]?c.append(f,Ia.value[f]):n.value.participant[f]&&c.append(f,n.value.participant[f])}),await ea.post("/api/v1/save-event-participants",c,{headers:{"Content-Type":"multipart/form-data"}}),D.fire("Berhasil","Data peserta event berhasil disimpan.","success"),$("#participantModal").modal("hide"),ta(I.value.current_page)}catch(d){console.error("Gagal menyimpan peserta event:",d);let c="Terjadi kesalahan saat menyimpan data.";if(((i=d.response)==null?void 0:i.status)===422){const f=((a=d.response.data)==null?void 0:a.errors)||{};Object.keys(f).forEach(w=>{const g=f[w];!Array.isArray(g)||!g.length||(Oa.includes(w)?Ta.value[w]=g[0]:l.value[w]=g[0])}),Object.values(Ta.value).some(w=>!!w)?j.value="lampiran":j.value="biodata";const T=Object.keys(f)[0];T?c=f[T][0]:(e=d.response.data)!=null&&e.message&&(c=d.response.data.message)}D.fire("Gagal",c,"error")}finally{Pa.value=!1}},Vt=async()=>{if(!K.value){D.fire("Event belum dipilih","Silakan pilih event melalui Portal Event sebelum mengelola peserta.","warning");return}Va(),F.value=!1,n.value=La(),n.value.event_participant.event_id=K.value,Ga.value=null,$a.value="",Ka.value="",j.value="biodata",aa.value=!0;try{await et(),n.value.participant.district_id&&await tt()}finally{aa.value=!1}$("#participantModal").modal("show")},Xa=async i=>{var e,d,c,f,T,w,g,S,B,la,ka,sa,ya,ha,ca,ut,dt,pt,ct,vt,_t,gt,mt,ft,bt,kt,yt,ht,xt;Va(),F.value=!0,j.value="biodata",n.value={participant:{id:(e=i.participant)==null?void 0:e.id,nik:(d=i.participant)==null?void 0:d.nik,full_name:(c=i.participant)==null?void 0:c.full_name,phone_number:(f=i.participant)==null?void 0:f.phone_number,place_of_birth:(T=i.participant)==null?void 0:T.place_of_birth,date_of_birth:(w=i.participant)==null?void 0:w.date_of_birth,gender:(g=i.participant)==null?void 0:g.gender,education:((S=i.participant)==null?void 0:S.education)||"SMA",address:(B=i.participant)==null?void 0:B.address,province_id:((la=i.participant)==null?void 0:la.province_id)||null,regency_id:((ka=i.participant)==null?void 0:ka.regency_id)||null,district_id:((sa=i.participant)==null?void 0:sa.district_id)||null,village_id:((ya=i.participant)==null?void 0:ya.village_id)||null,bank_account_number:((ha=i.participant)==null?void 0:ha.bank_account_number)||"",bank_account_name:((ca=i.participant)==null?void 0:ca.bank_account_name)||"",bank_name:((ut=i.participant)==null?void 0:ut.bank_name)||"",tanggal_terbit_ktp:((dt=i.participant)==null?void 0:dt.tanggal_terbit_ktp)||"",tanggal_terbit_kk:((pt=i.participant)==null?void 0:pt.tanggal_terbit_kk)||"",photo_url:((ct=i.participant)==null?void 0:ct.photo_url)||"",id_card_url:((vt=i.participant)==null?void 0:vt.id_card_url)||"",family_card_url:((_t=i.participant)==null?void 0:_t.family_card_url)||"",bank_book_url:((gt=i.participant)==null?void 0:gt.bank_book_url)||"",certificate_url:((mt=i.participant)==null?void 0:mt.certificate_url)||"",other_url:((ft=i.participant)==null?void 0:ft.other_url)||""},event_participant:{id:i.id,event_id:i.event_id,event_branch_id:i.event_branch_id||((bt=i.event_branch)==null?void 0:bt.id)||"",event_group_id:i.event_group_id,event_category_id:i.event_category_id,contingent:i.contingent,registration_status:i.registration_status,registration_notes:i.registration_notes,reregistration_status:i.reregistration_status,reregistration_notes:i.reregistration_notes}};const a={province_id:(kt=i.participant)==null?void 0:kt.province_id,regency_id:(yt=i.participant)==null?void 0:yt.regency_id,district_id:(ht=i.participant)==null?void 0:ht.district_id,village_id:(xt=i.participant)==null?void 0:xt.village_id};await Gt(a),Ga.value="found",$a.value="",Ka.value="",$("#participantModal").modal("show")},Ut=async i=>{await Xa(i),j.value="lampiran"},Za=i=>{i<1||i>I.value.last_page||ta(i)},{fetchProvinceOptions:at,fetchRegencyOptions:Rt,fetchDistrictOptions:Lt,fetchVillageOptions:tt,applyEventRegionToForm:et}=ne({form:n,provinceOptions:Sa,regencyOptions:qa,districtOptions:Ya,villageOptions:Ha,isPrivileged:oa,currentUser:Q,eventInfo:G,isLoadingRegencies:Ca,isLoadingDistricts:Da,isLoadingVillages:Na});async function Gt(i=null){aa.value=!0;try{Sa.value.length||await at(),await et(i)}finally{aa.value=!1}}const fa=p(null),ba=p(""),it=()=>{var ya,ha;fa.value=null,ba.value="";const i=n.value.participant.date_of_birth,a=n.value.event_participant.event_category_id;if(!i||!a)return;const e=Number(a),c=(Array.isArray(Z==null?void 0:Z.value)?Z.value:Array.isArray(Z)?Z:[]).find(ca=>Number(ca.id)===e)||null;if(!c)return;console.log("selectedCategory: "+c);const f=c.group_id;if(!f)return;console.log("groupId: "+f);const w=(Array.isArray(X==null?void 0:X.value)?X.value:Array.isArray(X)?X:[]).find(ca=>Number(ca.id)===Number(f))||null;if(console.log("group"),console.log(w),!w||w.max_age==null)return;console.log("group and group max age");const g=new Date(i);if(isNaN(g.getTime()))return;const S=((ya=G.value)==null?void 0:ya.age_limit_date)||((ha=na.value)==null?void 0:ha.tanggal_batas_umur)||null,B=S?new Date(S):new Date;if(isNaN(B.getTime()))return;let la=B.getFullYear()-g.getFullYear();const ka=B.getMonth()-g.getMonth();(ka<0||ka===0&&B.getDate()<g.getDate())&&la--;const sa=Number(w.max_age);Number.isFinite(sa)&&(la<sa?(fa.value="valid",ba.value=`Umur memenuhi syarat untuk golongan ini (harus di bawah ${sa} tahun). Umur peserta ${la} tahun.`,l.value["participant.date_of_birth"]&&l.value["participant.date_of_birth"].startsWith("Umur")&&(l.value["participant.date_of_birth"]="")):(fa.value="invalid",ba.value=`Umur tidak memenuhi syarat untuk golongan ini (harus di bawah ${sa} tahun). Umur peserta ${la} tahun.`,l.value["participant.date_of_birth"]=ba.value))},nt=p(null),lt=p(null),st=p({province_id:"",regency_id:"",district_id:""}),Ot=i=>{var a,e,d,c,f;lt.value=(a=i.participant)==null?void 0:a.id,st.value={province_id:((e=i.participant)==null?void 0:e.province_id)||"",regency_id:((d=i.participant)==null?void 0:d.regency_id)||"",district_id:((c=i.participant)==null?void 0:c.district_id)||""},(f=nt.value)==null||f.open()},E=p([]),Ua=p(!1),rt=A(()=>U.value.filter(i=>E.value.includes(i.id))),jt=A(()=>{if(H.value)return U.value.length&&U.value.every(a=>E.value.includes(a.id));if(!U.value.length)return!1;const i=U.value.filter(a=>{var e;return(a.registration_status||"").toLowerCase()==="bank_data"&&(((e=a.participant)==null?void 0:e.lampiran_completion_percent)||0)>=80}).map(a=>a.id);return i.length?i.every(a=>E.value.includes(a)):!1}),qt=i=>{const a=i.target.checked,e=H.value?U.value.map(d=>d.id):U.value.filter(d=>{var c;return["bank_data","need_revision"].includes((d.registration_status||"").toLowerCase())&&(((c=d.participant)==null?void 0:c.lampiran_completion_percent)||0)>=80}).map(d=>d.id);if(a)E.value=Array.from(new Set([...E.value,...e]));else{const d=U.value.map(c=>c.id);E.value=E.value.filter(c=>!d.includes(c))}},Yt=()=>{E.value.length&&$("#registerParticipantsModal").modal("show")},Ht=async()=>{var T,w;if(!E.value.length||!K.value){D.fire({icon:"warning",title:"Belum ada peserta dipilih",text:"Silakan checklist peserta berstatus BANKDATA yang akan didaftarkan."});return}const i=rt.value,a=["bank_data","need_revision"],e=i.filter(g=>!a.includes((g.registration_status||"").toLowerCase())),d=i.filter(g=>a.includes((g.registration_status||"").toLowerCase()));if(!d.length){D.fire({icon:"warning",title:"Tidak ada peserta yang valid",text:'Hanya peserta dengan status "bank_data" atau "need_revision" yang dapat didaftarkan.'});return}if(e.length){const g=e.slice(0,5).map(S=>{var B;return`- ${(B=S.participant)==null?void 0:B.full_name} (${$t(S.registration_status)})`}).join(`
`);D.fire({icon:"warning",title:"Sebagian peserta tidak bisa didaftarkan",text:'Hanya peserta dengan status "bank_data" yang akan diproses. Periksa kembali daftar peserta.',footer:`<pre style="text-align:left;margin:0;">${g}${e.length>5?`
... dan lainnya`:""}</pre>`})}const c=d.map(g=>g.id);if((await D.fire({icon:"question",title:`Daftarkan ${c.length} peserta?`,text:'Status pendaftaran akan diubah menjadi "process".',showCancelButton:!0,confirmButtonText:"Ya, daftarkan",cancelButtonText:"Batal"})).isConfirmed){Ua.value=!0;try{await ea.post("/api/v1/event-participants/bulk-register",{ids:c,event_id:K.value,registration_status:"process"}),$("#registerParticipantsModal").modal("hide"),E.value=[],await ta(I.value.current_page),D.fire({icon:"success",title:"Pendaftaran berhasil",text:`Sebanyak ${c.length} peserta berstatus BANKDATA berhasil dipindahkan ke status "process".`})}catch(g){console.error("Gagal mendaftarkan peserta:",g);const S=((w=(T=g.response)==null?void 0:T.data)==null?void 0:w.message)||"Gagal mendaftarkan peserta.";D.fire({icon:"error",title:"Gagal",text:S})}finally{Ua.value=!1}}},ot=["participant.tanggal_terbit_ktp","participant.tanggal_terbit_kk"],Jt=()=>{ot.forEach(i=>{pa.includes(i)||pa.push(i)})},zt=()=>{ot.forEach(i=>{const a=pa.indexOf(i);a!==-1&&pa.splice(a,1)})};return z(()=>{var i;return[n.value.participant.nik,n.value.participant.province_id,n.value.participant.regency_id,n.value.participant.district_id,n.value.participant.village_id,n.value.participant.tanggal_terbit_ktp,n.value.participant.tanggal_terbit_kk,(i=na.value)==null?void 0:i.event_level]},()=>{const i=Wa();i.valid?(k.value="",l.value["participant.nik"]=""):(k.value=i.error,l.value["participant.nik"]=i.error),Aa.value=i.showTanggalTerbit,Ba.value=i.requireTanggalTerbit,i.requireTanggalTerbit?Jt():zt()},{immediate:!0}),z(()=>[n.value.participant.date_of_birth,n.value.event_participant.event_category_id],()=>{console.log("ini jalan"),it()}),z(()=>n.value.participant.province_id,()=>{aa.value||Rt()}),z(()=>n.value.participant.regency_id,()=>{aa.value||Lt()}),z(()=>n.value.participant.district_id,()=>{aa.value||tt()}),z(()=>N.value,Pt(()=>ta(1),400)),z(()=>v.value,()=>{ta(1)}),z(()=>({...ia.value}),()=>{ta(1)}),z(()=>K.value,i=>{i&&(Ja(),ta(1))}),Wt(async()=>{K.value?(await at(),Ja(),ta()):D.fire("Event belum dipilih","Silakan pilih event melalui Portal Event terlebih dahulu.","info"),$("#participantModal").on("hidden.bs.modal",()=>{Va()})}),(i,a)=>(r(),s(R,null,[t("section",je,[t("div",qe,[t("div",Ye,[a[61]||(a[61]=t("div",null,[t("h1",{class:"mb-1"},"Bank Data Peserta per Event "),t("p",{class:"mb-0 text-muted text-sm"}," Mengelola peserta yang terdaftar pada event aktif, termasuk status pendaftaran dan daftar ulang. ")],-1)),t("div",He,[t("button",Je,[a[58]||(a[58]=u(" Dipilih: ")),t("strong",null,o(E.value.length),1)]),t("button",{class:"btn btn-success btn-sm",disabled:!E.value.length||!K.value||!W.value,onClick:Yt},a[59]||(a[59]=[t("i",{class:"fas fa-check-double mr-1"},null,-1),u(" Daftarkan ")]),8,ze),t("button",{class:"btn btn-primary btn-sm",onClick:Vt,disabled:!K.value||!J.value},a[60]||(a[60]=[t("i",{class:"fas fa-user-plus mr-1"},null,-1),u(" Tambah ")]),8,We)])]),K.value?_("",!0):(r(),s("p",Qe,a[62]||(a[62]=[t("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1),u(" Event belum dipilih. Silakan pilih event melalui Portal Event terlebih dahulu. ")])))])]),t("section",Xe,[t("div",Ze,[t("div",ai,[t("div",ti,[t("div",ei,[t("div",ii,[y(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),class:"form-control form-control-sm w-auto"},a[63]||(a[63]=[t("option",{value:10},"10",-1),t("option",{value:25},"25",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1)]),512),[[V,v.value,void 0,{number:!0}]]),a[66]||(a[66]=t("span",{class:"text-xs text-muted"},"entri",-1)),y(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>ia.value.registration_status=e),class:"form-control form-control-sm w-auto",title:"Status"},a[64]||(a[64]=[wt('<option value="" data-v-b48f1f06>Status</option><option value="bank_data" data-v-b48f1f06>Bank Data</option><option value="process" data-v-b48f1f06>Proses</option><option value="verified" data-v-b48f1f06>Verified</option><option value="need_revision" data-v-b48f1f06>Revisi</option><option value="rejected" data-v-b48f1f06>Ditolak</option><option value="disqualified" data-v-b48f1f06>Diskualifikasi</option>',7)]),512),[[V,ia.value.registration_status]]),y(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>ia.value.event_group_id=e),class:"form-control form-control-sm w-auto",title:"Cabang / Golongan"},[a[65]||(a[65]=t("option",{value:""},"Semua Cabang",-1)),(r(!0),s(R,null,L(C(P).eventGroups,e=>(r(),s("option",{key:e.id,value:String(e.id)},o(e.full_name||e.name||e.group_name||"Gol #"+e.id),9,ni))),128))],512),[[V,ia.value.event_group_id]])]),y(t("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>N.value=e),type:"text",class:"form-control form-control-sm mt-2 mt-md-0",style:{width:"220px"},placeholder:"Cari nama / NIK / kontingen"},null,512),[[q,N.value]])])]),t("div",li,[t("table",si,[t("thead",ri,[t("tr",null,[t("th",oi,[t("input",{type:"checkbox",checked:jt.value,onChange:a[4]||(a[4]=e=>qt(e))},null,40,ui)]),a[67]||(a[67]=t("th",{style:{width:"40px"}},"#",-1)),a[68]||(a[68]=t("th",null,"Peserta",-1)),a[69]||(a[69]=t("th",null,"NIK & Umur",-1)),a[70]||(a[70]=t("th",null,"Cabang / Golongan",-1)),a[71]||(a[71]=t("th",null,"Kontingen",-1)),a[72]||(a[72]=t("th",null,"Progress Lampiran",-1)),a[73]||(a[73]=t("th",{style:{width:"120px"},class:"text-center"},"Aksi",-1))])]),t("tbody",null,[x.value?(r(),s("tr",di,a[74]||(a[74]=[t("td",{colspan:"8",class:"text-center"}," Memuat data peserta event... ",-1)]))):U.value.length===0?(r(),s("tr",pi,a[75]||(a[75]=[t("td",{colspan:"8",class:"text-center"},[u(" Belum ada peserta terdaftar untuk event ini. "),t("br"),t("small",{class:"text-muted"},[u(" Klik "),t("strong",null,"Tambah Peserta Event"),u(" untuk menambahkan peserta. ")])],-1)]))):_("",!0),(r(!0),s(R,null,L(U.value,(e,d)=>{var c,f,T,w,g;return r(),s("tr",{key:e.id},[t("td",ci,[y(t("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":a[5]||(a[5]=S=>E.value=S),disabled:wa(e)},null,8,vi),[[Qt,E.value]])]),t("td",null,o(d+1+(I.value.current_page-1)*I.value.per_page),1),t("td",null,[t("strong",null,o((c=e.participant)==null?void 0:c.full_name),1),a[76]||(a[76]=t("br",null,null,-1)),t("span",{class:b(["badge mr-1",((f=e.participant)==null?void 0:f.gender)==="MALE"?"badge-primary":"badge-pink"]),style:{width:"17px"}},[t("i",{class:b(((T=e.participant)==null?void 0:T.gender)==="MALE"?"fas fa-mars":"fas fa-venus")},null,2)],2),t("span",{class:b(["badge",C(de)(e.registration_status)])},o(C($t)(e.registration_status)),3)]),t("td",null,[t("strong",null,o((w=e.participant)==null?void 0:w.nik),1),e.age_year!==null?(r(),s("div",_i," Umur: "+o(e.age_year)+"T "+o(e.age_month)+"B "+o(e.age_day)+"H ",1)):_("",!0)]),t("td",null,[t("strong",null,o(e.event_group.full_name),1),e.event_group?(r(),s("div",gi," Batas: "+o(e.event_group.max_age-1)+"T 11B 29H ",1)):_("",!0)]),t("td",null,[t("span",mi,o(e.contingent||"-"),1)]),t("td",fi,[t("div",bi,[t("div",{class:b(["progress-bar d-flex justify-content-center align-items-center",{"bg-danger":e.participant.lampiran_completion_percent<=20,"bg-warning":e.participant.lampiran_completion_percent>20&&e.participant.lampiran_completion_percent<=50,"bg-info":e.participant.lampiran_completion_percent>50&&e.participant.lampiran_completion_percent<=80,"bg-success":e.participant.lampiran_completion_percent>80}]),role:"progressbar",style:Xt({width:e.participant.lampiran_completion_percent+"%"}),"aria-valuenow":e.participant.lampiran_completion_percent,"aria-valuemin":"0","aria-valuemax":"100"},o(e.participant.lampiran_completion_percent)+"% ",15,ki)])]),t("td",yi,[t("div",hi,[["bank_data","need_revision"].includes(e.registration_status)?(r(),s("button",{key:0,class:"btn btn-outline-warning btn-xs",title:"Edit Biodata",onClick:S=>Xa(e)},a[77]||(a[77]=[t("i",{class:"fas fa-user-edit"},null,-1)]),8,xi)):_("",!0),["bank_data","need_revision"].includes(e.registration_status)?(r(),s("button",{key:1,class:"btn btn-outline-info btn-xs",title:"Edit Lampiran",onClick:S=>Ut(e)},a[78]||(a[78]=[t("i",{class:"fas fa-file-upload"},null,-1)]),8,wi)):_("",!0),t("button",{class:"btn btn-outline-primary btn-xs",title:"Lihat Data Peserta",onClick:S=>Ct(e)},a[79]||(a[79]=[t("i",{class:"fas fa-eye"},null,-1)]),8,Pi),["bank_data","perbaiki"].includes(e.registration_status)?(r(),s("button",{key:2,class:"btn btn-outline-success btn-xs",title:"Mutasi Peserta",onClick:S=>Ot(e)},a[80]||(a[80]=[t("i",{class:"fas fa-random"},null,-1)]),8,$i)):_("",!0),(g=e.participant)!=null&&g.photo_url?(r(),s("button",{key:3,class:"btn btn-outline-primary btn-xs",title:"Cetak Kokarde",onClick:S=>va(e)},a[81]||(a[81]=[t("i",{class:"fas fa-id-badge"},null,-1)]),8,Ki)):_("",!0)])])])}),128))])])]),t("div",Si,[t("div",Ci,[t("div",Di," Menampilkan "+o(I.value.from||0)+" - "+o(I.value.to||0)+" dari "+o(I.value.total||0)+" peserta event ",1),t("ul",Ni,[t("li",{class:b(["page-item",{disabled:I.value.current_page===1}])},[t("a",{href:"#",class:"page-link",onClick:a[6]||(a[6]=xa(e=>Za(I.value.current_page-1),["prevent"]))}," « ")],2),t("li",Mi,[t("span",Ii," Halaman "+o(I.value.current_page)+" / "+o(I.value.last_page||1),1)]),t("li",{class:b(["page-item",{disabled:I.value.current_page===I.value.last_page}])},[t("a",{href:"#",class:"page-link",onClick:a[7]||(a[7]=xa(e=>Za(I.value.current_page+1),["prevent"]))}," » ")],2)])])])])]),t("div",Ti,[t("div",Ai,[t("div",Bi,[t("div",Fi,[t("h5",Ei,[a[82]||(a[82]=t("i",{class:"fas fa-user-edit mr-2"},null,-1)),u(" "+o(F.value?"Edit Peserta":"Tambah Peserta"),1)]),a[83]||(a[83]=t("button",{type:"button",class:"close","data-dismiss":"modal"},[t("span",null,"×")],-1))]),t("div",Vi,[t("ul",Ui,[t("li",Ri,[t("a",{href:"#",class:b(["nav-link",{active:j.value==="biodata"}]),onClick:a[8]||(a[8]=xa(e=>j.value="biodata",["prevent"]))}," Biodata ",2)]),t("li",Li,[t("a",{href:"#",class:b(["nav-link",{active:j.value==="lampiran"}]),onClick:a[9]||(a[9]=xa(e=>j.value="lampiran",["prevent"]))}," Lampiran ",2)])]),t("form",{onSubmit:xa(Et,["prevent"])},[j.value==="biodata"?(r(),s("div",Gi,[t("div",Oi,[a[112]||(a[112]=t("div",{class:"col-12"},[t("h6",{class:"mb-1 font-weight-bold"},"Identitas Peserta"),t("hr",{class:"mt-1 mb-3"})],-1)),t("div",ji,[t("div",qi,[a[85]||(a[85]=t("label",{class:"mb-1"},[u("NIK Peserta "),t("span",{class:"text-danger"},"*")],-1)),t("div",Yi,[y(t("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>n.value.participant.nik=e),onBlur:a[11]||(a[11]=e=>{Ft(),M("participant.nik")}),disabled:F.value,type:"text",maxlength:"16",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.nik"]||k.value,"is-valid":!l.value["participant.nik"]&&!k.value&&n.value.participant.nik}]),placeholder:"Masukkan NIK"},null,42,Hi),[[q,n.value.participant.nik]]),t("div",Ji,[t("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:Bt,disabled:da.value||!n.value.participant.nik||F.value,title:"Cari data peserta berdasarkan NIK"},[da.value?(r(),s("i",Wi)):(r(),s("span",Qi,a[84]||(a[84]=[t("i",{class:"fas fa-search mr-1"},null,-1),u(" Cari ")])))],8,zi)]),l.value["participant.nik"]||k.value?(r(),s("div",Xi,o(l.value["participant.nik"]||k.value),1)):n.value.participant.nik&&!k.value?(r(),s("div",Zi," NIK dapat digunakan ")):_("",!0)])])]),t("div",an,[Aa.value?(r(),s("div",tn,[a[86]||(a[86]=t("label",{class:"mb-1"},[u("Tanggal Terbit KTP "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>n.value.participant.tanggal_terbit_ktp=e),type:"date",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.tanggal_terbit_ktp"],"is-valid":!l.value["participant.tanggal_terbit_ktp"]&&n.value.participant.tanggal_terbit_ktp}]),onBlur:a[13]||(a[13]=e=>M("participant.tanggal_terbit_ktp"))},null,34),[[q,n.value.participant.tanggal_terbit_ktp]]),l.value["participant.tanggal_terbit_ktp"]?(r(),s("div",en,o(l.value["participant.tanggal_terbit_ktp"]),1)):_("",!0)])):_("",!0)]),t("div",nn,[Aa.value?(r(),s("div",ln,[a[87]||(a[87]=t("label",{class:"mb-1"},[u("Tanggal Terbit KK "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>n.value.participant.tanggal_terbit_kk=e),type:"date",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.tanggal_terbit_kk"],"is-valid":!l.value["participant.tanggal_terbit_kk"]&&n.value.participant.tanggal_terbit_kk}]),onBlur:a[15]||(a[15]=e=>M("participant.tanggal_terbit_kk"))},null,34),[[q,n.value.participant.tanggal_terbit_kk]]),l.value["participant.tanggal_terbit_kk"]?(r(),s("div",sn,o(l.value["participant.tanggal_terbit_kk"]),1)):_("",!0)])):_("",!0)]),t("div",rn,[t("div",on,[a[89]||(a[89]=t("label",{class:"mb-1"},[u(" Kategori / Cabang Peserta "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[16]||(a[16]=e=>n.value.event_participant.event_category_id=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["event_participant.event_category_id"],"is-valid":!l.value["event_participant.event_category_id"]&&n.value.event_participant.event_category_id}]),onChange:a[17]||(a[17]=e=>M("event_participant.event_category_id"))},[a[88]||(a[88]=t("option",{value:"",disabled:""},"-- Pilih Cabang/Golongan --",-1)),(r(!0),s(R,null,L(Z.value,e=>(r(),s("option",{key:e.id,value:e.id},o(e.full_name),9,un))),128))],34),[[V,n.value.event_participant.event_category_id]]),l.value["event_participant.event_category_id"]?(r(),s("div",dn,o(l.value["event_participant.event_category_id"]),1)):_("",!0)])]),t("div",pn,[t("div",cn,[a[90]||(a[90]=t("label",{class:"mb-1"},[u("Nama Lengkap "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{type:"text",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.full_name"],"is-valid":!l.value["participant.full_name"]&&n.value.participant.full_name}]),"onUpdate:modelValue":a[18]||(a[18]=e=>n.value.participant.full_name=e),onBlur:a[19]||(a[19]=e=>M("participant.full_name"))},null,34),[[q,n.value.participant.full_name]]),l.value["participant.full_name"]?(r(),s("div",vn,o(l.value["participant.full_name"]),1)):_("",!0)])]),t("div",_n,[t("div",gn,[a[91]||(a[91]=t("label",{class:"mb-1"},[u("Nomor HP "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{type:"text",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.phone_number"],"is-valid":!l.value["participant.phone_number"]&&n.value.participant.phone_number}]),"onUpdate:modelValue":a[20]||(a[20]=e=>n.value.participant.phone_number=e),onBlur:a[21]||(a[21]=e=>M("participant.phone_number"))},null,34),[[q,n.value.participant.phone_number]]),l.value["participant.phone_number"]?(r(),s("div",mn,o(l.value["participant.phone_number"]),1)):_("",!0)])]),t("div",fn,[t("div",bn,[a[92]||(a[92]=t("label",{class:"mb-1"},[u("Tempat Lahir "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{"onUpdate:modelValue":a[22]||(a[22]=e=>n.value.participant.place_of_birth=e),type:"text",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.place_of_birth"],"is-valid":!l.value["participant.place_of_birth"]&&n.value.participant.place_of_birth}]),onBlur:a[23]||(a[23]=e=>M("participant.place_of_birth"))},null,34),[[q,n.value.participant.place_of_birth]]),l.value["participant.place_of_birth"]?(r(),s("div",kn,o(l.value["participant.place_of_birth"]),1)):_("",!0)])]),t("div",yn,[t("div",hn,[a[94]||(a[94]=t("label",{class:"mb-1"},[u("Tanggal Lahir "),t("span",{class:"text-danger"},"*")],-1)),t("div",xn,[y(t("input",{"onUpdate:modelValue":a[24]||(a[24]=e=>n.value.participant.date_of_birth=e),type:"date",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.date_of_birth"],"is-valid":!l.value["participant.date_of_birth"]&&n.value.participant.date_of_birth}]),onBlur:a[25]||(a[25]=e=>M("participant.date_of_birth")),disabled:""},null,34),[[q,n.value.participant.date_of_birth]]),a[93]||(a[93]=t("div",{class:"input-group-append"},[t("span",{class:"input-group-text"},[t("i",{class:"far fa-calendar-alt"})])],-1))]),l.value["participant.date_of_birth"]?(r(),s("div",wn,o(l.value["participant.date_of_birth"]),1)):_("",!0),$a.value?(r(),s("small",Pn," Diambil dari NIK: "+o($a.value),1)):_("",!0)])]),t("div",$n,[t("div",Kn,[a[96]||(a[96]=t("label",{class:"mb-1"},[u("Jenis Kelamin "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[26]||(a[26]=e=>n.value.participant.gender=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.gender"],"is-valid":!l.value["participant.gender"]&&n.value.participant.gender}]),onChange:a[27]||(a[27]=e=>M("participant.gender")),disabled:""},a[95]||(a[95]=[t("option",{value:""},"-- Pilih --",-1),t("option",{value:"MALE"},"LAKI-LAKI",-1),t("option",{value:"FEMALE"},"PEREMPUAN",-1)]),34),[[V,n.value.participant.gender]]),l.value["participant.gender"]?(r(),s("div",Sn,o(l.value["participant.gender"]),1)):_("",!0),Ka.value?(r(),s("small",Cn," Diambil dari NIK: "+o(Ka.value),1)):_("",!0)])]),t("div",Dn,[t("div",Nn,[a[98]||(a[98]=t("label",{class:"mb-1"},[u("Pendidikan "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[28]||(a[28]=e=>n.value.participant.education=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.education"],"is-valid":!l.value["participant.education"]&&n.value.participant.education}]),onChange:a[29]||(a[29]=e=>M("participant.education"))},a[97]||(a[97]=[wt('<option value="SD" data-v-b48f1f06>SD</option><option value="SMP" data-v-b48f1f06>SMP</option><option value="SMA" data-v-b48f1f06>SMA</option><option value="D1" data-v-b48f1f06>DIPLOMA I</option><option value="D2" data-v-b48f1f06>DIPLOMA II</option><option value="D3" data-v-b48f1f06>DIPLOMA III</option><option value="D4" data-v-b48f1f06>DIPLOMA IV</option><option value="S1" data-v-b48f1f06>S1</option><option value="S2" data-v-b48f1f06>S2</option><option value="S3" data-v-b48f1f06>S3</option>',10)]),34),[[V,n.value.participant.education]]),l.value["participant.education"]?(r(),s("div",Mn,o(l.value["participant.education"]),1)):_("",!0)])]),a[113]||(a[113]=t("div",{class:"col-12 mt-3"},[t("h6",{class:"mb-1 font-weight-bold"},"Alamat Domisili"),t("hr",{class:"mt-1 mb-3"})],-1)),t("div",In,[t("div",Tn,[a[100]||(a[100]=t("label",{class:"mb-1"},[u(" Provinsi (Sesuai KTP) "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[30]||(a[30]=e=>n.value.participant.province_id=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.province_id"],"is-valid":!l.value["participant.province_id"]&&n.value.participant.province_id}]),disabled:Mt.value,onChange:a[31]||(a[31]=e=>M("participant.province_id"))},[a[99]||(a[99]=t("option",{value:"",disabled:""},"-- Pilih Provinsi --",-1)),(r(!0),s(R,null,L(Sa.value,e=>(r(),s("option",{key:e.id,value:e.id},o(e.name),9,Bn))),128))],42,An),[[V,n.value.participant.province_id]]),l.value["participant.province_id"]?(r(),s("div",Fn,o(l.value["participant.province_id"]),1)):_("",!0)])]),t("div",En,[t("div",Vn,[a[102]||(a[102]=t("label",{class:"mb-1"},[u(" Kab / Kota (Sesuai KTP) "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[32]||(a[32]=e=>n.value.participant.regency_id=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.regency_id"],"is-valid":!l.value["participant.regency_id"]&&n.value.participant.regency_id}]),disabled:It.value,onChange:a[33]||(a[33]=e=>M("participant.regency_id"))},[t("option",Rn,o(Ca.value?"Memuat Kabupaten/Kota...":"-- Pilih Kabupaten/Kota --"),1),(r(!0),s(R,null,L(qa.value,e=>(r(),s("option",{key:e.id,value:e.id},o(e.name),9,Ln))),128))],42,Un),[[V,n.value.participant.regency_id]]),Ca.value?(r(),s("small",Gn,a[101]||(a[101]=[t("i",{class:"fas fa-spinner fa-spin mr-1"},null,-1),u(" Sedang memuat kabupaten/kota... ")]))):_("",!0),l.value["participant.regency_id"]?(r(),s("div",On,o(l.value["participant.regency_id"]),1)):_("",!0)])]),t("div",jn,[t("div",qn,[a[104]||(a[104]=t("label",{class:"mb-1"},[u(" Kecamatan (Sesuai KTP) "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[34]||(a[34]=e=>n.value.participant.district_id=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.district_id"],"is-valid":!l.value["participant.district_id"]&&n.value.participant.district_id}]),disabled:Tt.value,onChange:a[35]||(a[35]=e=>M("participant.district_id"))},[t("option",Hn,o(Da.value?"Memuat Kecamatan...":"-- Pilih Kecamatan --"),1),(r(!0),s(R,null,L(Ya.value,e=>(r(),s("option",{key:e.id,value:e.id},o(e.name),9,Jn))),128))],42,Yn),[[V,n.value.participant.district_id]]),Da.value?(r(),s("small",zn,a[103]||(a[103]=[t("i",{class:"fas fa-spinner fa-spin mr-1"},null,-1),u(" Sedang memuat kecamatan... ")]))):_("",!0),l.value["participant.district_id"]?(r(),s("div",Wn,o(l.value["participant.district_id"]),1)):_("",!0)])]),t("div",Qn,[t("div",Xn,[a[106]||(a[106]=t("label",{class:"mb-1"},[u("Kelurahan / Desa "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[36]||(a[36]=e=>n.value.participant.village_id=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.village_id"],"is-valid":!l.value["participant.village_id"]&&n.value.participant.village_id}]),disabled:!n.value.participant.district_id||Na.value,onChange:a[37]||(a[37]=e=>M("participant.village_id"))},[t("option",al,o(Na.value?"Memuat Kelurahan/Desa...":"-- Pilih Kel/Desa --"),1),(r(!0),s(R,null,L(Ha.value,e=>(r(),s("option",{key:e.id,value:e.id},o(e.name),9,tl))),128))],42,Zn),[[V,n.value.participant.village_id]]),Na.value?(r(),s("small",el,a[105]||(a[105]=[t("i",{class:"fas fa-spinner fa-spin mr-1"},null,-1),u(" Sedang memuat kelurahan/desa... ")]))):_("",!0),l.value["participant.village_id"]?(r(),s("div",il,o(l.value["participant.village_id"]),1)):_("",!0)])]),t("div",nl,[t("div",ll,[a[107]||(a[107]=t("label",{class:"mb-1"},[u("Alamat Lengkap Peserta "),t("span",{class:"text-danger"},"*")],-1)),y(t("textarea",{"onUpdate:modelValue":a[38]||(a[38]=e=>n.value.participant.address=e),rows:"2",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.address"],"is-valid":!l.value["participant.address"]&&n.value.participant.address}]),onBlur:a[39]||(a[39]=e=>M("participant.address"))},null,34),[[q,n.value.participant.address]]),l.value["participant.address"]?(r(),s("div",sl,o(l.value["participant.address"]),1)):_("",!0)])]),a[114]||(a[114]=t("div",{class:"col-12 mt-3"},[t("h6",{class:"mb-1 font-weight-bold"},"Informasi Rekening"),t("hr",{class:"mt-1 mb-3"})],-1)),t("div",rl,[t("div",ol,[a[108]||(a[108]=t("label",{class:"mb-1"},[u("Nomor Rekening "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{"onUpdate:modelValue":a[40]||(a[40]=e=>n.value.participant.bank_account_number=e),type:"text",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.bank_account_number"],"is-valid":!l.value["participant.bank_account_number"]&&n.value.participant.bank_account_number}]),onBlur:a[41]||(a[41]=e=>M("participant.bank_account_number"))},null,34),[[q,n.value.participant.bank_account_number]]),l.value["participant.bank_account_number"]?(r(),s("div",ul,o(l.value["participant.bank_account_number"]),1)):_("",!0)])]),t("div",dl,[t("div",pl,[a[110]||(a[110]=t("label",{class:"mb-1"},[u("Bank "),t("span",{class:"text-danger"},"*")],-1)),y(t("select",{"onUpdate:modelValue":a[42]||(a[42]=e=>n.value.participant.bank_name=e),class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.bank_name"],"is-valid":!l.value["participant.bank_name"]&&n.value.participant.bank_name}]),onChange:a[43]||(a[43]=e=>M("participant.bank_name"))},[a[109]||(a[109]=t("option",{value:"",disabled:""},"-- Pilih Bank --",-1)),(r(!0),s(R,null,L(C(le),e=>(r(),s("option",{key:e,value:e},o(e),9,cl))),128))],34),[[V,n.value.participant.bank_name]]),l.value["participant.bank_name"]?(r(),s("div",vl,o(l.value["participant.bank_name"]),1)):_("",!0)])]),t("div",_l,[t("div",gl,[a[111]||(a[111]=t("label",{class:"mb-1"},[u("Atas Nama Rekening "),t("span",{class:"text-danger"},"*")],-1)),y(t("input",{"onUpdate:modelValue":a[44]||(a[44]=e=>n.value.participant.bank_account_name=e),type:"text",class:b(["form-control form-control-sm",{"is-invalid":l.value["participant.bank_account_name"],"is-valid":!l.value["participant.bank_account_name"]&&n.value.participant.bank_account_name}]),onBlur:a[45]||(a[45]=e=>M("participant.bank_account_name"))},null,34),[[q,n.value.participant.bank_account_name]]),l.value["participant.bank_account_name"]?(r(),s("div",ml,o(l.value["participant.bank_account_name"]),1)):_("",!0)])])])])):(r(),s("div",fl,[t("div",bl,[t("div",kl,[t("div",yl,[t("div",hl,[t("div",xl,[n.value.participant.photo_url?(r(),s("img",{key:0,src:n.value.participant.photo_url,alt:"Foto Peserta",class:"img-fluid"},null,8,wl)):(r(),s("span",Pl," Belum ada foto "))]),t("div",$l,[t("input",{type:"file",class:"custom-file-input",id:"photoInput",accept:"image/jpeg,image/png,image/jpg",onChange:a[46]||(a[46]=e=>C(ua)(e,"photo_url"))},null,32),a[115]||(a[115]=t("label",{class:"custom-file-label",for:"photoInput"}," Pilih foto... ",-1))]),a[116]||(a[116]=t("small",{class:"text-muted d-block mt-2 text-center text-xs"},[u(" Format "),t("strong",null,"JPG/JPEG/PNG"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))])])]),t("div",Kl,[t("div",Sl,[a[121]||(a[121]=t("label",{class:"col-sm-3 col-form-label col-form-label-sm mb-0"},[u(" KTP "),t("br"),t("small",{class:"text-muted"},"(Jika umur < 17 tahun tidak wajib)")],-1)),t("div",Cl,[t("div",Dl,[t("input",{type:"file",class:"custom-file-input",id:"ktpInput",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:a[47]||(a[47]=e=>C(ua)(e,"id_card_url"))},null,32),a[117]||(a[117]=t("label",{class:"custom-file-label",for:"ktpInput"}," Pilih file... ",-1))]),a[118]||(a[118]=t("small",{class:"text-muted d-block mt-1 text-xs"},[u(" Format "),t("strong",null,"PDF/PNG/JPG/JPEG"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))]),t("div",Nl,[C(ma)("id_card_url")?(r(),s("span",{key:0,class:"badge badge-pill badge-success badge-file",onClick:a[48]||(a[48]=e=>C(ga)("id_card_url")),style:{cursor:"pointer"},title:"Klik untuk melihat file"},a[119]||(a[119]=[t("i",{class:"fas fa-check"},null,-1)]))):(r(),s("span",Ml,a[120]||(a[120]=[t("i",{class:"fas fa-minus"},null,-1)])))])]),t("div",Il,[a[126]||(a[126]=t("label",{class:"col-sm-3 col-form-label col-form-label-sm mb-0"}," Kartu Keluarga ",-1)),t("div",Tl,[t("div",Al,[t("input",{type:"file",class:"custom-file-input",id:"kkInput",accept:"application/pdf",onChange:a[49]||(a[49]=e=>C(ua)(e,"family_card_url"))},null,32),a[122]||(a[122]=t("label",{class:"custom-file-label",for:"kkInput"}," Pilih file... ",-1))]),a[123]||(a[123]=t("small",{class:"text-muted d-block mt-1 text-xs"},[u(" Format "),t("strong",null,"PDF"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))]),t("div",Bl,[C(ma)("family_card_url")?(r(),s("span",{key:0,class:"badge badge-pill badge-success badge-file",onClick:a[50]||(a[50]=e=>C(ga)("family_card_url")),style:{cursor:"pointer"},title:"Klik untuk melihat file"},a[124]||(a[124]=[t("i",{class:"fas fa-check"},null,-1)]))):(r(),s("span",Fl,a[125]||(a[125]=[t("i",{class:"fas fa-minus"},null,-1)])))])]),t("div",El,[a[131]||(a[131]=t("label",{class:"col-sm-3 col-form-label col-form-label-sm mb-0"}," Buku Tabungan ",-1)),t("div",Vl,[t("div",Ul,[t("input",{type:"file",class:"custom-file-input",id:"tabunganInput",accept:"application/pdf",onChange:a[51]||(a[51]=e=>C(ua)(e,"bank_book_url"))},null,32),a[127]||(a[127]=t("label",{class:"custom-file-label",for:"tabunganInput"}," Pilih file... ",-1))]),a[128]||(a[128]=t("small",{class:"text-muted d-block mt-1 text-xs"},[u(" Format "),t("strong",null,"PDF"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))]),t("div",Rl,[C(ma)("bank_book_url")?(r(),s("span",{key:0,class:"badge badge-pill badge-success badge-file",onClick:a[52]||(a[52]=e=>C(ga)("bank_book_url")),style:{cursor:"pointer"},title:"Klik untuk melihat file"},a[129]||(a[129]=[t("i",{class:"fas fa-check"},null,-1)]))):(r(),s("span",Ll,a[130]||(a[130]=[t("i",{class:"fas fa-minus"},null,-1)])))])]),t("div",Gl,[a[136]||(a[136]=t("label",{class:"col-sm-3 col-form-label col-form-label-sm mb-0"}," Piagam Penghargaan ",-1)),t("div",Ol,[t("div",jl,[t("input",{type:"file",class:"custom-file-input",id:"sertifikatInput",accept:"application/pdf",onChange:a[53]||(a[53]=e=>C(ua)(e,"certificate_url"))},null,32),a[132]||(a[132]=t("label",{class:"custom-file-label",for:"sertifikatInput"}," Pilih file... ",-1))]),a[133]||(a[133]=t("small",{class:"text-muted d-block mt-1 text-xs"},[u(" Format "),t("strong",null,"PDF"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))]),t("div",ql,[C(ma)("certificate_url")?(r(),s("span",{key:0,class:"badge badge-pill badge-success badge-file",onClick:a[54]||(a[54]=e=>C(ga)("certificate_url")),style:{cursor:"pointer"},title:"Klik untuk melihat file"},a[134]||(a[134]=[t("i",{class:"fas fa-check"},null,-1)]))):(r(),s("span",Yl,a[135]||(a[135]=[t("i",{class:"fas fa-minus"},null,-1)])))])]),t("div",Hl,[a[141]||(a[141]=t("label",{class:"col-sm-3 col-form-label col-form-label-sm mb-0"}," Akta Kelahiran ",-1)),t("div",Jl,[t("div",zl,[t("input",{type:"file",class:"custom-file-input",id:"otherInput",accept:"application/pdf",onChange:a[55]||(a[55]=e=>C(ua)(e,"other_url"))},null,32),a[137]||(a[137]=t("label",{class:"custom-file-label",for:"otherInput"}," Pilih file... ",-1))]),a[138]||(a[138]=t("small",{class:"text-muted d-block mt-1 text-xs"},[u(" Format "),t("strong",null,"PDF"),u(", maksimal "),t("strong",null,"1 MB"),u(". ")],-1))]),t("div",Wl,[C(ma)("other_url")?(r(),s("span",{key:0,class:"badge badge-pill badge-success badge-file",onClick:a[56]||(a[56]=e=>C(ga)("other_url")),style:{cursor:"pointer"},title:"Klik untuk melihat file"},a[139]||(a[139]=[t("i",{class:"fas fa-check"},null,-1)]))):(r(),s("span",Ql,a[140]||(a[140]=[t("i",{class:"fas fa-minus"},null,-1)])))])])])])])),t("div",Xl,[t("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:Pa.value},[Pa.value?(r(),s("i",as)):(r(),s("i",ts)),a[142]||(a[142]=u(" Simpan "))],8,Zl)])],32)])])])]),Ra(Oe,{ref_key:"mutasiModalRef",ref:nt,"participant-id":lt.value,"initial-region":st.value,onSuccess:a[57]||(a[57]=e=>ta(I.value.current_page))},null,8,["participant-id","initial-region"]),Ra(Ke,{participants:rt.value,"is-submitting":Ua.value,onConfirm:Ht},null,8,["participants","is-submitting"]),Ra(ee,{"selected-participant":ja.value},null,8,["selected-participant"])])],64))}},os=Zt(es,[["__scopeId","data-v-b48f1f06"]]);export{os as default};
