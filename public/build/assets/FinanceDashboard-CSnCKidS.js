import{b as x}from"./app-D-g1j7c6.js";import{S as h}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{F as i,B as k,J as B,P as e,Q as n,R as t,U as l,W as y,a5 as u,aw as p}from"./pinia-BDOwh8JO.js";const w={class:"content"},D={class:"container-fluid"},T={class:"row mb-4"},F={class:"col-md-6"},P={class:"info-box bg-success"},R={class:"info-box-content"},C={class:"info-box-number"},S={class:"col-md-6"},L={class:"info-box bg-warning"},N={class:"info-box-content"},j={class:"info-box-number"},M={class:"card mb-4"},V={class:"card-body table-responsive p-0"},E={class:"table table-bordered table-sm mb-0"},G={key:0},I={key:1},J={class:"row"},Q={class:"card"},U={class:"card-header"},W={class:"list-group list-group-flush"},q={key:0,class:"list-group-item text-muted text-center"},X={__name:"FinanceDashboard",setup(z){const m=i(!1),r=i({total_paid:0,total_pending:0}),b=i([]),_=i([]),v=i([]),f=i([]),g=k(()=>[{title:"By Bank",items:_.value},{title:"By Package",items:v.value},{title:"By Participant Category",items:f.value}]),c=d=>"Rp "+Number(d||0).toLocaleString("id-ID");return B(async()=>{var d,s;m.value=!0;try{const o=(await x.get("/api/v1/finance/dashboard")).data.data;r.value=o.summary||r.value,b.value=o.daily||[],_.value=o.by_bank||[],v.value=o.by_package||[],f.value=o.by_category||[]}catch(a){h.fire({icon:"error",title:"Gagal memuat Finance Dashboard",text:((s=(d=a.response)==null?void 0:d.data)==null?void 0:s.message)||"Terjadi kesalahan sistem"})}finally{m.value=!1}}),(d,s)=>(n(),e(u,null,[s[8]||(s[8]=t("section",{class:"content-header"},[t("div",{class:"container-fluid"},[t("div",null,[t("h1",{class:"mb-1"},"Finance Dashboard"),t("p",{class:"mb-0 text-muted text-sm"}," Ringkasan pemasukan dan status pembayaran peserta. ")])])],-1)),t("section",w,[t("div",D,[t("div",T,[t("div",F,[t("div",P,[s[1]||(s[1]=t("span",{class:"info-box-icon"},[t("i",{class:"fas fa-coins"})],-1)),t("div",R,[s[0]||(s[0]=t("span",{class:"info-box-text"},"Total Revenue",-1)),t("span",C,l(c(r.value.total_paid)),1)])])]),t("div",S,[t("div",L,[s[3]||(s[3]=t("span",{class:"info-box-icon"},[t("i",{class:"fas fa-clock"})],-1)),t("div",N,[s[2]||(s[2]=t("span",{class:"info-box-text"},"Total Pending",-1)),t("span",j,l(c(r.value.total_pending)),1)])])])]),t("div",M,[s[7]||(s[7]=t("div",{class:"card-header"},[t("strong",null,"Daily Revenue")],-1)),t("div",V,[t("table",E,[s[6]||(s[6]=t("thead",{class:"thead-light"},[t("tr",null,[t("th",null,"Tanggal"),t("th",null,"Total")])],-1)),t("tbody",null,[m.value?(n(),e("tr",G,s[4]||(s[4]=[t("td",{colspan:"2",class:"text-center"}," Memuat data... ",-1)]))):b.value.length===0?(n(),e("tr",I,s[5]||(s[5]=[t("td",{colspan:"2",class:"text-center text-muted"}," Belum ada transaksi. ",-1)]))):y("",!0),(n(!0),e(u,null,p(b.value,a=>(n(),e("tr",{key:a.date},[t("td",null,l(a.date),1),t("td",null,l(c(a.total)),1)]))),128))])])])]),t("div",J,[(n(!0),e(u,null,p(g.value,a=>(n(),e("div",{class:"col-md-4",key:a.title},[t("div",Q,[t("div",U,[t("strong",null,l(a.title),1)]),t("ul",W,[(n(!0),e(u,null,p(a.items,o=>(n(),e("li",{key:o.name,class:"list-group-item d-flex justify-content-between text-sm"},[t("span",null,l(o.name),1),t("span",null,l(c(o.total)),1)]))),128)),a.items.length===0?(n(),e("li",q," Tidak ada data ")):y("",!0)])])]))),128))])])])],64))}};export{X as default};
